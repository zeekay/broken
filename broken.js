var Broken=function(){"use strict";var t,e,n=t=class t{constructor(t){var e,n,r;n=t.state,r=t.value,e=t.reason,this.state=n,this.value=r,this.reason=e}isFulfilled(){return"fulfilled"===this.state}isRejected(){return"rejected"===this.state}};e=function(){var t,e,n,r,i;return r=[],i=0,t=1024,e=function(){for(var e;r.length-i;){try{r[i]()}catch(t){e=t,"undefined"!=typeof console&&console.error(e)}r[i++]=void 0,i===t&&(r.splice(0,t),i=0)}},n=function(){var t,n;return"undefined"!=typeof MutationObserver?(t=document.createElement("div"),n=new MutationObserver(e),n.observe(t,{attributes:!0}),function(){t.setAttribute("a",0)}):"undefined"!=typeof setImmediate?function(){setImmediate(e)}:function(){setTimeout(e,0)}}(),function(t){r.push(t),r.length-i==1&&n()}}();var r,i,o,u,c,s,f,a=e;c=void 0,o=c,i="fulfilled",u="rejected",f=function(t,e){var n,r;if("function"==typeof t.y)try{r=t.y.call(c,e),t.p.resolve(r)}catch(e){n=e,t.p.reject(n)}else t.p.resolve(e)},s=function(t,e){var n,r;if("function"==typeof t.n)try{r=t.n.call(c,e),t.p.resolve(r)}catch(e){n=e,t.p.reject(n)}else t.p.reject(e)},r=class t{constructor(t){t&&t(t=>{return this.resolve(t)},t=>{return this.reject(t)})}resolve(t){var e,n,r,u;if(this.state===o){if(t===this)return this.reject(new TypeError("Attempt to resolve promise with self"));if(t&&("function"==typeof t||"object"==typeof t))try{if(r=!0,"function"==typeof(u=t.then))return void u.call(t,t=>{r&&(r&&(r=!1),this.resolve(t))},t=>{r&&(r=!1,this.reject(t))})}catch(t){return n=t,void(r&&this.reject(n))}this.state=i,this.v=t,(e=this.c)&&a(()=>{var n,r,i;for(r=0,i=e.length;r<i;r++)n=e[r],f(n,t)})}}reject(e){var n;this.state===o&&(this.state=u,this.v=e,(n=this.c)?a(function(){var t,r,i;for(r=0,i=n.length;r<i;r++)t=n[r],s(t,e)}):t.suppressUncaughtRejectionError||"undefined"==typeof console||console.log("Broken Promise, please catch rejections: ",e,e?e.stack:null))}then(e,n){var r,u,c,l;return c=new t,u={y:e,n:n,p:c},this.state===o?this.c?this.c.push(u):this.c=[u]:(l=this.state,r=this.v,a(function(){l===i?f(u,r):s(u,r)})),c}["catch"](t){return this.then(null,t)}["finally"](t){return this.then(t,t)}timeout(e,n){return n=n||"timeout",new t((t,r)=>{setTimeout(function(){return r(Error(n))},e),this.then(function(e){t(e)},function(t){r(t)})})}callback(t){return"function"==typeof t&&(this.then(function(e){return t(null,e)}),this.catch(function(e){return t(e,null)})),this}};var l=r,h=function(t){var e;return e=new l,e.resolve(t),e},v=function(t){var e;return e=new l,e.reject(t),e},p=function(t){var e,n,r,i,o,u,c,s;for(c=[],o=0,s=new l,u=function(e,n){e&&"function"==typeof e.then||(e=h(e)),e.then(function(e){c[n]=e,++o===t.length&&s.resolve(c)},function(t){s.reject(t)})},e=n=0,r=t.length;n<r;e=++n)i=t[e],u(i,e);return t.length||s.resolve(c),s},d=function(t){return new l(function(e,r){return t.then(function(t){return e(new n({state:"fulfilled",value:t}))}).catch(function(t){return e(new n({state:"rejected",reason:t}))})})},y=function(t){return p(t.map(d))};return l.all=p,l.reflect=d,l.reject=v,l.resolve=h,l.settle=y,l.soon=a,l}();
